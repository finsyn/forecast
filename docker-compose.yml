version: '3'
services:
  etl:
    build: 
      dockerfile: docker/Dockerfile.etl 
      context: .
    env_file: ./targets/${TARGET}.env
    command: src/etl.py
    volumes:
      - ./:/opt/forecaster/
  train-svm:
    build: 
      dockerfile: docker/Dockerfile.scikit
      context: .
    env_file: ./targets/${TARGET}.env
    command: src/train_svm.py
    volumes:
      - ./:/opt/forecaster/
  train:
    build: 
      dockerfile: docker/Dockerfile.train
      context: .
    env_file: ./targets/${TARGET}.env
    command: src/train_nn.py
    volumes:
      - ./:/opt/forecaster/
  view:
    build: 
      dockerfile: docker/Dockerfile.view
      context: .
    env_file: ./targets/${TARGET}.env
    command: src/visualize.py
    volumes:
      - ./:/opt/forecaster/
